# redis的几个应用问题 #


## 1、缓存雪崩 ##

数据的失效时间都一样，导致后面突然来了大量请求时要重新对数据库进行访问，使得数据库压力很大。

解决办法：我们可以以等差增加的方式设置数据的失效时间。

## 2、缓存穿透 ##

一、数据在过期时间失效后，仍然会对数据库产生并发请求。 

解决办法1：我们可以根据数据的最后访问时间来动态增加它的失效时间。

解决办法2：利用互斥锁，让第一个请求先去访问数据库，然后后面的请求都会在缓存里得到数据。


二、许多无效的请求仍然会并发的访问数据库。 

解决办法:我们可以设置一个表，把合法的字段放在里面，请求发来时先判断一下是否合法再去访问缓存，否则直接返回None。


##其它问题##

对于低频的请求，不管它怎么样，不对它进行特殊设置。

降级处理：防止宕机后，缓存不可用，能有备用的解决办法。

为什么需要缓存:缓存能协调输入输出两端的读写速度。

缓存里能用十个字段的就用十个字段，数据结构简单，要扁平化，层次不要深，要接受redis存储数据很零散。

